<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Task 14</title>
    <link rel="shortcut icon" href="../img/icon4.ico">
</head>
<body style="font-family:Arial">
    <h3>city list</h3>
    <ul id="aqi-list">
    </ul>

    <script type="text/javascript">

        var aqiData = [
            ["Beijing", 90],
            ["Shanghai", 50],
            ["Fuzhou", 10],
            ["Guangzhou", 50],
            ["Chengdu", 90],
            ["Xian", 100]
        ];

        (function() {
            // sorting function (similar to Comparable in java)
            aqiData.sort( function(a, b) {
                return b[1] - a[1];
            });

            // get ul element
            var ul = document.getElementById('aqi-list');

            // display
            var rank = 1;
            for (var item of aqiData) {
                if (item[1] >= 60) {
                    var li = document.createElement("li");
                    li.innerHTML = 'No.' + (rank++) + ': ' + item[0] + ' ' + item[1];
                    ul.appendChild(li);
                }
                // avoid unnecessary loop
                else break;
            }
        })();
    </script>
</body>
</html>
